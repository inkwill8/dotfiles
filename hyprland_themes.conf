# ~/.config/hypr/themes/dark-space.conf
# Dark Blue/Purple Space Theme

$accent = rgba(8B5CF6ff)      # Purple accent
$accent2 = rgba(3B82F6ff)     # Blue accent 
$inactive = rgba(374151ff)    # Gray inactive border
$background = rgba(0F172Aff)  # Dark slate background
$foreground = rgba(F8FAFCff)  # Light text
$shadow = rgba(00000088)      # Shadow
$shadow_inactive = rgba(00000044) # Inactive shadow

env = XCURSOR_THEME,Bibata-Modern-Ice
env = XCURSOR_SIZE,24

#════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════
# ~/.config/hypr/themes/dune-orange.conf  
# Warm Orange Dune Theme

$accent = rgba(F59E0Bff)      # Amber/orange accent
$accent2 = rgba(DC2626ff)     # Deep red accent
$inactive = rgba(78716Cff)    # Warm gray inactive
$background = rgba(1C1917ff)  # Dark brown background
$foreground = rgba(FEF3C7ff)  # Warm light text
$shadow = rgba(00000088)      # Shadow
$shadow_inactive = rgba(00000044) # Inactive shadow

env = XCURSOR_THEME,Bibata-Modern-Amber
env = XCURSOR_SIZE,24

#════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════
# ~/.config/hypr/themes/light.conf
# Clean Light Theme

$accent = rgba(2563EBff)      # Blue accent
$accent2 = rgba(7C3AEDff)     # Purple accent
$inactive = rgba(D1D5DBff)    # Light gray inactive
$background = rgba(F9FAFBff)  # Light background
$foreground = rgba(111827ff)  # Dark text
$shadow = rgba(00000020)      # Light shadow
$shadow_inactive = rgba(00000010) # Very light shadow

env = XCURSOR_THEME,Bibata-Modern-Classic
env = XCURSOR_SIZE,24

#════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════
# ~/.config/hypr/scripts/theme-switcher.sh
#!/bin/bash
# Theme switching script

THEME_DIR="$HOME/.config/hypr/themes"
CURRENT_THEME="$THEME_DIR/current.conf"
WALLPAPER_DIR="$HOME/.config/hypr/wallpapers"

# Available themes
THEMES=("dark-space" "dune-orange" "light")

# Get current theme
if [[ -L "$CURRENT_THEME" ]]; then
    CURRENT=$(readlink "$CURRENT_THEME" | sed 's/.*\/\(.*\)\.conf/\1/')
else
    CURRENT="dark-space"
fi

# Find next theme
for i in "${!THEMES[@]}"; do
    if [[ "${THEMES[$i]}" == "$CURRENT" ]]; then
        NEXT_INDEX=$(( (i + 1) % ${#THEMES[@]} ))
        NEXT_THEME="${THEMES[$NEXT_INDEX]}"
        break
    fi
done

# Switch theme
ln -sf "$THEME_DIR/$NEXT_THEME.conf" "$CURRENT_THEME"

# Update wallpaper with smooth transitions
if command -v swww >/dev/null 2>&1; then
    ~/.config/hypr/scripts/swww-manager.sh "$NEXT_THEME"
elif command -v hyprpaper >/dev/null 2>&1; then
    # Fallback to hyprpaper if swww not available
    pkill hyprpaper
    sleep 0.5
    hyprpaper &
fi

# Reload Hyprland
hyprctl reload

# Update waybar and other components
pkill waybar
waybar &

pkill dunst
dunst &

# Update GTK theme
case $NEXT_THEME in
    "light")
        gsettings set org.gnome.desktop.interface gtk-theme "Adwaita"
        gsettings set org.gnome.desktop.interface icon-theme "Papirus"
        ;;
    "dune-orange")
        gsettings set org.gnome.desktop.interface gtk-theme "Adwaita-dark"
        gsettings set org.gnome.desktop.interface icon-theme "Papirus-Dark"
        ;;
    *)
        gsettings set org.gnome.desktop.interface gtk-theme "Adwaita-dark" 
        gsettings set org.gnome.desktop.interface icon-theme "Papirus-Dark"
        ;;
esac

# Notify user
if command -v notify-send >/dev/null 2>&1; then
    notify-send "Theme Changed" "Switched to $NEXT_THEME theme" -i preferences-desktop-theme
fi

#════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════
# ~/.config/hypr/scripts/init-theme.sh
#!/bin/bash
# Initialize theme system

THEME_DIR="$HOME/.config/hypr/themes"
CURRENT_THEME="$THEME_DIR/current.conf"

# Create theme directory if it doesn't exist
mkdir -p "$THEME_DIR"

# Set default theme if current.conf doesn't exist
if [[ ! -f "$CURRENT_THEME" ]]; then
    ln -sf "$THEME_DIR/dark-space.conf" "$CURRENT_THEME"
fi

# Make scripts executable
chmod +x ~/.config/hypr/scripts/*.sh